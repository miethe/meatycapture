# =============================================================================
# MeatyCapture Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment.
#
# IMPORTANT: Vite embeds environment variables at BUILD time, not runtime.
# Changes to MEATYCAPTURE_API_URL require rebuilding the frontend.
# =============================================================================

# -----------------------------------------------------------------------------
# API Configuration (CRITICAL)
# -----------------------------------------------------------------------------

# Backend API URL - The address the frontend uses to connect to the API server.
#
# CRITICAL: This must be an address accessible from where the browser runs,
# NOT where the server runs. Common mistakes:
#   - Using 'localhost' when accessing from another machine (won't work)
#   - Using Docker internal network addresses (won't work from browser)
#
# Examples:
#   Local development:     http://localhost:3737
#   Remote access (LAN):   http://192.168.1.100:3737
#   Remote access (Docker): http://10.0.2.218:3737
#   Production:            https://api.meatycapture.example.com
#
# If you're running the server on machine A and accessing from machine B,
# use machine A's IP address that machine B can reach.
MEATYCAPTURE_API_URL=http://localhost:3737

# Optional API authentication token for secured endpoints
# Leave empty or unset for unauthenticated local development
MEATYCAPTURE_AUTH_TOKEN=

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Server port inside container (the port the backend binds to)
# Default: 3001
PORT=3001

# Web app host port (for Docker port mapping, e.g., -p 80:80)
# Default: 80
WEB_PORT=80

# Allowed CORS origins - comma-separated list or * for all origins
# Examples:
#   Development:  *
#   Production:   https://meatycapture.example.com,https://app.example.com
# Default: *
CORS_ORIGINS=*

# -----------------------------------------------------------------------------
# Environment & Logging
# -----------------------------------------------------------------------------

# Environment mode: development | production | test
# Default: production
NODE_ENV=development

# Logging verbosity: debug | info | warn | error
# Default: info
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Paths & Directories
# -----------------------------------------------------------------------------

# Default project path pattern for new projects
# Use {name} as placeholder for project name
# Default: ~/projects/{name}
MEATYCAPTURE_DEFAULT_PROJECT_PATH=~/projects/{name}

# Configuration directory for projects.json, fields.json, etc.
# Default: ~/.meatycapture
MEATYCAPTURE_CONFIG_DIR=~/.meatycapture

# Data directory for local development
# NOTE: Docker deployments override this to /data via volume mount
# Default: ~/.meatycapture/data
MEATYCAPTURE_DATA_DIR=~/.meatycapture/data

# -----------------------------------------------------------------------------
# Docker-Specific Notes
# -----------------------------------------------------------------------------
# When running in Docker:
# 1. MEATYCAPTURE_DATA_DIR is typically mounted as a volume to /data
# 2. MEATYCAPTURE_API_URL must use the Docker host's external IP, not localhost
# 3. PORT is the internal container port; map it externally via docker-compose
#
# Example docker-compose override:
#   environment:
#     - MEATYCAPTURE_API_URL=http://10.0.2.218:3737
#   volumes:
#     - ./data:/data
# -----------------------------------------------------------------------------
